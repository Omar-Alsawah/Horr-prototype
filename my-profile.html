<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - HORR</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div id="global-header"></div>
    <div class="container settings-container">
        <aside class="settings-sidebar" id="global-sidebar"></aside>
        <main class="settings-content">
            <div class="flex justify-between items-center" style="margin-bottom: 1.5rem;">
                <h1 class="page-title" style="margin-bottom: 0;">My Profile</h1>
                <button class="btn btn-outline">View Public Profile</button>
            </div>

            <!-- Freelancer Info Header -->
            <div class="card" id="userProfileCard" style="margin-bottom: 24px;">
                <!-- View Mode -->
                <div class="view-mode flex" style="gap: 24px; align-items: flex-start;">
                    <img id="viewProfileImg" src="https://ui-avatars.com/api/?name=John+Doe&background=random"
                        alt="Profile"
                        style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; flex-shrink: 0;">
                    <div style="flex: 1;">
                        <h2 id="viewName" class="user-name"
                            style="font-size: 1.5rem; font-weight: 700; margin-bottom: 4px;">John Doe</h2>
                        <div id="viewLocation" class="user-location"
                            style="color: var(--text-muted); margin-bottom: 8px;">San Francisco, CA - 5:42 PM local time
                        </div>
                        <div id="viewTitle" class="user-title" style="font-weight: 500; font-size: 1.125rem;">Senior
                            Frontend Engineer</div>
                    </div>
                    <button class="btn btn-primary edit-btn" onclick="toggleEdit('userProfileCard')">Edit
                        Profile</button>
                </div>

                <!-- Edit Mode -->
                <div class="edit-mode hidden">
                    <div class="flex" style="gap: 24px; align-items: flex-start; margin-bottom: 24px;">
                        <div style="position: relative;">
                            <img id="editProfileImg" src="https://ui-avatars.com/api/?name=John+Doe&background=random"
                                alt="Profile"
                                style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover; flex-shrink: 0;">
                            <label for="profilePhotoInput"
                                style="position: absolute; bottom: 0; right: 0; background: var(--color-primary-gold); width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; border: 2px solid white;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white"
                                    stroke-width="2">
                                    <path
                                        d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z">
                                    </path>
                                    <circle cx="12" cy="13" r="4"></circle>
                                </svg>
                            </label>
                            <input type="file" id="profilePhotoInput" accept="image/*" style="display: none;"
                                onchange="previewProfileImage(this)">
                        </div>
                        <div style="flex: 1;">
                            <div class="form-grid" style="margin-bottom: 0;">
                                <div class="form-group">
                                    <label class="form-label">First Name</label>
                                    <input type="text" id="editFirstName" class="form-input" value="John">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Last Name</label>
                                    <input type="text" id="editLastName" class="form-input" value="Doe">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Professional Title</label>
                        <input type="text" id="editTitle" class="form-input" value="Senior Frontend Engineer">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Location</label>
                        <input type="text" id="editLocation" class="form-input" value="San Francisco, CA">
                    </div>

                    <div class="flex justify-between items-center">
                        <button class="btn btn-outline" style="color: #d9534f;">Delete Profile Photo</button>
                        <div class="flex" style="gap: 12px;">
                            <button class="btn btn-ghost" onclick="toggleEdit('userProfileCard')">Cancel</button>
                            <button class="btn btn-primary" onclick="saveProfileChanges()">Save Changes</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card" id="overviewCard" style="margin-bottom: 24px;">
                <div class="card-header flex justify-between items-center">
                    <h2 class="card-title">Overview</h2>
                    <button class="btn-icon-circle edit-btn" onclick="toggleEdit('overviewCard')">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                    </button>
                </div>

                <!-- View Mode -->
                <div class="view-mode">
                    <p id="viewOverview" style="color: var(--text-main); line-height: 1.6; margin-bottom: 16px;">
                        Specialized in building high-performance web applications using modern JavaScript frameworks.
                        Obsessed with clean code, accessibility, and pixel-perfect design implementation.
                    </p>
                    <div class="flex" style="gap: 8px; flex-wrap: wrap;">
                        <span class="tag">React</span>
                        <span class="tag">CSS/HTML</span>
                        <span class="tag">Design Systems</span>
                    </div>
                </div>

                <!-- Edit Mode -->
                <div class="edit-mode hidden">
                    <div class="form-group">
                        <label class="form-label">Professional Overview</label>
                        <textarea id="editOverview" class="form-input" rows="6"
                            style="resize: vertical;">Specialized in building high-performance web applications using modern JavaScript frameworks. Obsessed with clean code, accessibility, and pixel-perfect design implementation.</textarea>
                    </div>
                    <!-- Skills Edit (Simplified for prototype) -->
                    <div class="form-group">
                        <label class="form-label">Skills (Comma separated)</label>
                        <input type="text" class="form-input" value="React, CSS/HTML, Design Systems">
                    </div>

                    <div class="flex justify-end gap-4">
                        <button class="btn btn-ghost" onclick="toggleEdit('overviewCard')">Cancel</button>
                        <button class="btn btn-primary" onclick="saveOverview()">Save Overview</button>
                    </div>
                </div>
            </div>

            <div class="card" id="hourlyRateCard">
                <div class="card-header flex justify-between items-center">
                    <h2 class="card-title">Hourly Rate</h2>
                    <button class="btn-icon-circle edit-btn" onclick="toggleEdit('hourlyRateCard')">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                    </button>
                </div>

                <!-- View Mode -->
                <div class="view-mode">
                    <div id="viewHourlyRate" style="font-size: 1.25rem; font-weight: 600;">$85.00 / hr</div>
                    <div style="font-size: 0.875rem; color: var(--text-muted); margin-top: 4px;">Total amount the client
                        will see</div>
                </div>

                <!-- Edit Mode -->
                <div class="edit-mode hidden">
                    <div class="form-group">
                        <label class="form-label">Hourly Rate ($)</label>
                        <div class="flex items-center" style="gap: 8px;">
                            <input type="number" id="editHourlyRate" class="form-input" value="85.00" step="0.50"
                                style="max-width: 150px;">
                            <span style="color: var(--text-muted);">/ hr</span>
                        </div>
                    </div>
                    <div class="flex justify-end gap-4">
                        <button class="btn btn-ghost" onclick="toggleEdit('hourlyRateCard')">Cancel</button>
                        <button class="btn btn-primary" onclick="saveHourlyRate()">Save Rate</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/components.js"></script>
    <script src="js/script.js"></script>
    <script>
        loadHeader();
        loadSidebar('my-profile');
    </script>
</body>

</html>